<app-base-container>
  <app-base-page-header
    title="Base Components Demo"
    subtitle="Test and showcase all available base components"
  />

  <!-- Tabs Navigation -->
  <app-base-tabs
    [tabs]="tabs"
    [activeTabId]="activeTabId"
    (tabChange)="onTabChangeFromId($event)"
  />

  <!-- Tab Content -->
  <div class="demo-content">
    <!-- Tab 1: Form Components -->
    <div *ngIf="selectedTab === 0" class="demo-section">
      <h2>Form Components</h2>

      <app-base-grid columns="2" gap="1.5rem">
        <!-- Card 1: Buttons -->
        <app-base-card title="Buttons" subtitle="Different button variants">
          <div class="button-demo">
            <app-base-button
              label="Primary"
              variant="primary"
              (click)="onButtonClick('primary')"
            />
            <app-base-button
              label="Secondary"
              variant="secondary"
              (click)="onButtonClick('secondary')"
            />
            <app-base-button
              label="Success"
              variant="success"
              (click)="onButtonClick('success')"
            />
            <app-base-button
              label="Danger"
              variant="danger"
              (click)="onButtonClick('danger')"
            />
            <app-base-button
              label="Outline"
              variant="outline"
              (click)="onButtonClick('outline')"
            />
            <app-base-button
              label="Disabled"
              [disabled]="true"
            />
          </div>
        </app-base-card>

        <!-- Card 2: Inputs -->
        <app-base-card title="Inputs" subtitle="Text input component">
          <form>
            <app-base-input
              label="Username"
              placeholder="Enter username"
              [(ngModel)]="inputValue"
              (inputChange)="onInputChange($event)"
              name="username"
            />
            <app-base-input
              label="Password"
              type="password"
              placeholder="Enter password"
              [(ngModel)]="inputValue"
              name="password"
            />
          </form>
        </app-base-card>

        <!-- Card 3: Select -->
        <app-base-card title="Select" subtitle="Dropdown selection">
          <app-base-select
            label="Choose Option"
            [options]="selectOptions"
            [ngModel]="selectValue"
            (selectionChange)="onSelectChange($event)"
          />
        </app-base-card>

        <!-- Card 4: Checkbox & Search -->
        <app-base-card title="Checkbox & Search" subtitle="Selection and search">
          <app-base-checkbox
            label="Enable Feature"
            [(ngModel)]="checkboxValue"
          />
          <app-base-search
            placeholder="Search..."
            [value]="searchValue"
            (searchChange)="searchValue = $event"
          />
        </app-base-card>

        <!-- Card 5: Switch -->
        <app-base-card title="Switch" subtitle="Toggle switch component">
          <app-base-switch
            label="Enable Notifications"
            size="md"
            switchId="switch-notifications"
            [(ngModel)]="switchValue"
            (valueChange)="onSwitchChange($event)"
          />
          <app-base-switch
            label="Dark Mode"
            size="sm"
            switchId="switch-darkmode"
            [(ngModel)]="switchValue"
          />
          <app-base-switch
            label="Auto Save"
            size="lg"
            switchId="switch-autosave"
            [(ngModel)]="switchValue"
            [disabled]="true"
          />
        </app-base-card>

        <!-- Card 6: Tags -->
        <app-base-card title="Tags" subtitle="Tag component variants">
          <div class="tag-demo">
            <app-base-tag label="Primary" variant="primary" />
            <app-base-tag label="Success" variant="success" />
            <app-base-tag label="Warning" variant="warning" />
            <app-base-tag label="Danger" variant="danger" />
            <app-base-tag label="Secondary" variant="secondary" />
            <app-base-tag label="Outline" variant="outline" />
            <app-base-tag 
              label="Closable" 
              variant="primary" 
              [closable]="true"
              (closed)="onTagClose()"
            />
          </div>
        </app-base-card>

        <!-- Card 7: Textarea -->
        <app-base-card title="Textarea" subtitle="Multi-line text input">
          <app-base-textarea
            label="Description"
            placeholder="Enter description"
            [rows]="4"
            [maxLength]="200"
            [showCounter]="true"
            [(ngModel)]="textareaValue"
            (inputChange)="onTextareaChange($event)"
          />
        </app-base-card>

        <!-- Card 8: Radio -->
        <app-base-card title="Radio" subtitle="Radio button group">
          <app-base-radio
            label="Select Option"
            name="demo-radio"
            [options]="radioOptions"
            [(ngModel)]="radioValue"
            (selectionChange)="onRadioChange($event)"
          />
        </app-base-card>

        <!-- Card 9: Datepicker -->
        <app-base-card title="Date Picker" subtitle="Date selection">
          <app-base-datepicker
            label="Select Date"
            placeholder="Choose a date"
            [(ngModel)]="dateValue"
            (inputChange)="onDateChange($event)"
          />
        </app-base-card>

        <!-- Card 10: File Upload -->
        <app-base-card title="File Upload" subtitle="File upload component">
          <app-base-file-upload
            accept="image/*,.pdf"
            [multiple]="true"
            placeholder="Upload files here"
          />
        </app-base-card>
      </app-base-grid>
    </div>

    <!-- Tab 2: Layout Components -->
    <div *ngIf="selectedTab === 1" class="demo-section">
      <h2>Layout Components</h2>

      <app-base-grid columns="2" gap="1.5rem">
        <!-- Card Component -->
        <app-base-card 
          title="Card Component" 
          subtitle="A flexible container component"
        >
          <p>Card content goes here. You can put any content inside a card.</p>
          <app-base-button label="Action in Card" variant="primary" />
        </app-base-card>

        <!-- Grid Layout -->
        <div>
          <h3>Grid Layout</h3>
          <app-base-grid columns="3" gap="1rem">
            <div class="grid-demo-item">Item 1</div>
            <div class="grid-demo-item">Item 2</div>
            <div class="grid-demo-item">Item 3</div>
            <div class="grid-demo-item">Item 4</div>
            <div class="grid-demo-item">Item 5</div>
            <div class="grid-demo-item">Item 6</div>
          </app-base-grid>
        </div>

        <!-- Avatar -->
        <app-base-card title="Avatar" subtitle="User avatar component">
          <div class="avatar-demo">
            <app-base-avatar size="small" fallbackText="A" />
            <app-base-avatar size="medium" fallbackText="B" />
            <app-base-avatar size="large" fallbackText="C" />
            <app-base-avatar size="xlarge" fallbackText="D" />
            <app-base-avatar size="medium" shape="square" fallbackText="S" />
            <app-base-avatar size="medium" icon="person" />
          </div>
        </app-base-card>

        <!-- Badge -->
        <app-base-card title="Badge" subtitle="Badge variants">
          <div class="badge-demo">
            <app-base-badge text="Primary" variant="primary" />
            <app-base-badge text="Success" variant="success" />
            <app-base-badge text="Warning" variant="warning" />
            <app-base-badge text="Danger" variant="danger" />
            <app-base-badge [count]="99" />
            <app-base-badge [count]="100" />
          </div>
        </app-base-card>
      </app-base-grid>
    </div>

    <!-- Tab 3: Data Display -->
    <div *ngIf="selectedTab === 2" class="demo-section">
      <h2>Data Display Components</h2>

      <app-base-grid columns="2" gap="1.5rem">
        <!-- Table -->
        <app-base-card title="Data Table" subtitle="Interactive table component">
          <app-base-table
            [data]="tableData"
            [columns]="tableColumns"
            [actions]="tableActions"
          />
          
          <app-base-pagination
            [currentPage]="currentPage"
            [totalPages]="totalPages"
            [pageSize]="pageSize"
            (pageChange)="onPageChange($event)"
          />
        </app-base-card>

        <!-- List -->
        <app-base-card title="List" subtitle="List component">
          <app-base-list
            [items]="listItems"
            [clickable]="true"
            (itemClick)="onListItemClick($event)"
          />
        </app-base-card>

        <!-- Skeleton -->
        <app-base-card title="Skeleton" subtitle="Loading skeleton">
          <app-base-skeleton variant="card" [lines]="4" />
        </app-base-card>

        <!-- Timeline -->
        <app-base-card title="Timeline" subtitle="Sequential events">
          <app-base-timeline
            [items]="timelineItems"
            layout="vertical"
            mode="left"
          />
        </app-base-card>
      </app-base-grid>
    </div>

    <!-- Tab 4: Feedback -->
    <div *ngIf="selectedTab === 3" class="demo-section">
      <h2>Feedback Components</h2>

      <app-base-grid columns="3" gap="1.5rem">
        <!-- Loading -->
        <app-base-card title="Loading" subtitle="Show loading state">
          <button (click)="showLoading()">Show Loading</button>
          <app-base-loading *ngIf="isLoading" />
        </app-base-card>

        <!-- Error -->
        <app-base-card title="Error" subtitle="Error state component">
          <button (click)="showErrorState()">Show Error</button>
          <app-base-error 
            *ngIf="showError"
          />
        </app-base-card>

        <!-- Empty -->
        <app-base-card title="Empty" subtitle="Empty state component">
          <button (click)="showEmptyState()">Show Empty</button>
          <app-base-empty 
            *ngIf="showEmpty"
          />
        </app-base-card>

        <!-- Modal -->
        <app-base-card title="Modal" subtitle="Modal dialog component">
          <app-base-button label="Open Modal" (click)="openModal()" />
        </app-base-card>

        <!-- Drawer -->
        <app-base-card title="Drawer" subtitle="Side drawer component">
          <app-base-button label="Open Drawer" (click)="openDrawer()" />
        </app-base-card>

        <!-- Dropdown -->
        <app-base-card title="Dropdown" subtitle="Dropdown menu component">
          <div class="dropdown-demo" style="display: flex; gap: 1rem; flex-wrap: wrap;">
            <app-base-dropdown
              [items]="dropdownItems"
              trigger="click"
              placement="bottom-start"
              triggerText="Actions"
              (itemClick)="onDropdownItemClickHandler($event)"
              (openChange)="onDropdownChange($event)"
            />
            <app-base-dropdown
              [items]="dropdownItems"
              trigger="click"
              placement="bottom-end"
              triggerIcon="more_vert"
            />
            <app-base-dropdown
              [items]="dropdownItems"
              trigger="hover"
              placement="top-start"
              triggerText="Hover Me"
            />
          </div>
        </app-base-card>

        <!-- Popover -->
        <app-base-card title="Popover" subtitle="Popover component">
          <div class="popover-demo" style="display: flex; gap: 1rem; flex-wrap: wrap; align-items: center;">
            <app-base-popover
              title="Popover Title"
              content="This is a popover with title and content. You can place it anywhere."
              trigger="click"
              placement="bottom"
            >
              <app-base-button label="Click Popover" variant="primary" />
            </app-base-popover>

            <app-base-popover
              content="Simple popover without title"
              trigger="hover"
              placement="top"
            >
              <app-base-button label="Hover Popover" variant="secondary" />
            </app-base-popover>

            <app-base-popover
              title="Rich Content"
              trigger="click"
              placement="right"
              width="300px"
            >
              <app-base-button label="Rich Popover" variant="outline" />
              <div slot="content">
                <p>This popover contains rich content with <strong>HTML</strong> elements.</p>
                <app-base-button label="Action Button" variant="primary" />
              </div>
            </app-base-popover>
          </div>
        </app-base-card>

        <!-- Tooltip -->
        <app-base-card title="Tooltip" subtitle="Tooltip component">
          <div class="tooltip-demo" style="display: flex; gap: 1rem; flex-wrap: wrap; align-items: center;">
            <app-base-tooltip
              text="This is a tooltip on top"
              placement="top"
              trigger="hover"
            >
              <app-base-button label="Hover Top" variant="primary" />
            </app-base-tooltip>

            <app-base-tooltip
              text="Tooltip on bottom"
              placement="bottom"
              trigger="hover"
            >
              <app-base-button label="Hover Bottom" variant="secondary" />
            </app-base-tooltip>

            <app-base-tooltip
              text="Click to show tooltip"
              placement="right"
              trigger="click"
            >
              <app-base-button label="Click Tooltip" variant="outline" />
            </app-base-tooltip>

            <app-base-tooltip
              text="Focus to show tooltip"
              placement="left"
              trigger="focus"
            >
              <app-base-button label="Focus Tooltip" variant="ghost" />
            </app-base-tooltip>
          </div>
        </app-base-card>

        <!-- Confirm Dialog -->
        <app-base-card title="Confirm Dialog" subtitle="Confirmation dialog component">
          <div class="confirm-dialog-demo" style="display: flex; gap: 1rem; flex-wrap: wrap;">
            <app-base-button
              label="Open Confirm Dialog"
              variant="danger"
              (click)="openConfirmDialog()"
            />
            <app-base-button
              label="Success Dialog"
              variant="success"
              (click)="openSuccessDialog()"
            />
            <app-base-button
              label="Warning Dialog"
              variant="warning"
              (click)="openWarningDialog()"
            />
          </div>
        </app-base-card>
      </app-base-grid>

      <!-- Modal -->
      <app-base-modal
        [isOpen]="isModalOpen"
        title="Sample Modal"
        icon="info"
        (closeEvent)="onModalClose()"
      >
        <p>This is a sample modal content. You can put any content here.</p>
      </app-base-modal>

      <!-- Drawer -->
      <app-base-drawer
        [isOpen]="isDrawerOpen"
        title="Sample Drawer"
        icon="menu"
        (closeEvent)="onDrawerClose()"
      >
        <p>This is a sample drawer content.</p>
      </app-base-drawer>

      <!-- Confirm Dialog -->
      <app-base-confirm-dialog
        [isOpen]="isConfirmDialogOpen"
        [config]="confirmDialogConfig"
        (confirm)="onConfirmDialogConfirm()"
        (cancelAction)="onConfirmDialogCancel()"
        (dialogClose)="onConfirmDialogClose()"
      />
    </div>
  </div>
</app-base-container>