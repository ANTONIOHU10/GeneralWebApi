<!-- Path: GeneralWebApi/Frontend/general-frontend/src/app/features/auth/login/login.component.html -->
<div class="login-container theme-transition" [class.dark-theme]="isDarkMode">
  <!-- Theme Toggle Button -->
  <button
    class="theme-toggle-button"
    (click)="toggleTheme()"
    [attr.aria-label]="isDarkMode ? 'Switch to light mode' : 'Switch to dark mode'"
    [title]="isDarkMode ? 'Switch to light mode' : 'Switch to dark mode'"
  >
    <span class="material-icons">{{ isDarkMode ? 'light_mode' : 'dark_mode' }}</span>
  </button>

  <!-- Main Content Area -->
  <div class="login-content">
    <!-- Left Brand Section -->
    <div class="brand-section">
      <div class="brand-logo">
        <div class="logo-icon">GW</div>
        <h1 class="brand-title">GeneralWebApi</h1>
        <p class="brand-subtitle">Enterprise Management System</p>
      </div>

      <div class="features-list">
        <div class="feature-item">
          <div class="feature-icon material-icons">people</div>
          <span>Employee Management</span>
        </div>
        <div class="feature-item">
          <div class="feature-icon material-icons">dashboard</div>
          <span>Analytics Dashboard</span>
        </div>
        <div class="feature-item">
          <div class="feature-icon material-icons">security</div>
          <span>Secure Access</span>
        </div>
      </div>
    </div>

    <!-- Right Login Form Section -->
    <div class="login-form-section">
      <div class="form-container">
        <div class="form-header">
          <h2>Welcome Back</h2>
          <p>Sign in to continue to your account</p>
        </div>

        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
          <!-- Username Input -->
          <div class="form-group">
            <app-base-input
              formControlName="username"
              type="text"
              placeholder="Username"
              [required]="true"
              [error]="getFieldError('username')"
              prefixIcon="person"
              autocomplete="username"
              inputId="login-username"
            ></app-base-input>
          </div>

          <!-- Password Input -->
          <div class="form-group">
            <app-base-input
              formControlName="password"
              type="password"
              placeholder="Password"
              [required]="true"
              [error]="getFieldError('password')"
              prefixIcon="lock"
              autocomplete="current-password"
              inputId="login-password"
            ></app-base-input>
          </div>

          <!-- Form Options -->
          <div class="form-options">
            <app-base-checkbox
              formControlName="rememberMe"
              label="Remember me"
              inputId="login-remember-me"
              [size]="'sm'"
            ></app-base-checkbox>
            <a
              href="#"
              class="forgot-link"
              role="button"
              tabindex="0"
              (click)="onForgotPassword(); $event.preventDefault()"
            >
              Forgot password?
            </a>
          </div>

          <!-- Submit Button -->
          <app-base-button
            type="submit"
            text="Sign In"
            variant="primary"
            size="large"
            [disabled]="loading() || loginForm.invalid"
            [loading]="loading()"
            customClass="login-button"
          ></app-base-button>
        </form>

        <!-- Error Message -->
        <app-base-error
          *ngIf="error()"
          [message]="error() || ''"
          [config]="{
            type: 'error',
            size: 'sm',
            showRetryButton: false,
            showDismissButton: false,
            centered: false
          }"
          class="error-message"
        ></app-base-error>

        <!-- Footer Information -->
        <div class="form-footer">
          <p>
            Don't have an account?
            <a
              href="#"
              class="signup-link"
              role="button"
              tabindex="0"
              (click)="onContactAdmin(); $event.preventDefault()"
            >
              Contact Administrator
            </a>
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
