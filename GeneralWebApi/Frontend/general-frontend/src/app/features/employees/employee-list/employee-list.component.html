<!-- src/app/features/employees/employee-list/employee-list.component.html -->
<app-base-private-page-container
  title="Employee Management"
  subtitle="Manage and view all employees in the system"
  icon="people"
  [showTabs]="true"
  [showSearch]="activeTab() === 'list'"
  [tabs]="tabs"
  [activeTabId]="activeTab()"
  (tabChange)="onTabChange($event)"
>
  <!-- Search in header - only shown when list tab is active -->
  <app-base-search
    *ngIf="activeTab() === 'list'"
    slot="search"
    [config]="{
      placeholder: 'Search employees...',
      debounceTime: 300,
      minLength: 1,
      showClearButton: true,
      showSearchButton: true,
    }"
    (searchChange)="onSearchChange($event)"
    inputId="employee-search"
  ></app-base-search>

  <!-- Employee List Tab Content -->
  <div *ngIf="activeTab() === 'list'">
    <app-base-async-state
      [loading$]="loading$"
      [error$]="error$"
      [data$]="employees$"
      loadingMessage="Loading employees..."
      emptyTitle="No employees found"
      emptyDescription="There are no employees to display at the moment"
      emptyActionText="Add First Employee"
      [onRetry]="onRetryLoad"
      [onEmptyAction]="onEmptyActionClick"
    >
      <!-- Success content: Employee grid -->
      <div class="employee-grid">
        <app-employee-card
          *ngFor="let employee of employees$ | async"
          [employee]="employee"
          [showActions]="true"
          (edit)="onEditEmployee($event)"
          (delete)="onDeleteEmployee($event)"
          (view)="onViewEmployee($event)"
        >
        </app-employee-card>
      </div>
    </app-base-async-state>
  </div>

  <!-- Add Employee Tab Content -->
  <div *ngIf="activeTab() === 'add'">
    <app-add-employee (employeeCreated)="onEmployeeCreated()"></app-add-employee>
  </div>

  <!-- Reports Tab Content -->
  <div *ngIf="activeTab() === 'reports'">
    <app-employee-reports></app-employee-reports>
  </div>

  <!-- Settings Tab Content -->
  <div *ngIf="activeTab() === 'settings'">
    <app-employee-settings></app-employee-settings>
  </div>
</app-base-private-page-container>

<!-- Employee Detail Modal -->
<app-employee-detail
  [employee]="selectedEmployeeForDetail"
  [isOpen]="isDetailModalOpen"
  [mode]="detailMode"
  (closeEvent)="onCloseDetailModal()"
  (employeeUpdated)="onEmployeeUpdated($event)"
></app-employee-detail>
