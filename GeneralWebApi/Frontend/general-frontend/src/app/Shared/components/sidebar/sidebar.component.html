<!-- Path: GeneralWebApi/Frontend/general-frontend/src/app/shared/components/sidebar/sidebar.component.html -->
<aside class="app-sidebar" [class.mobile-open]="isOpen">
  <div class="sidebar-content">
    <!-- Search Section -->
    <div class="sidebar-search">
      <div class="search-input-container">
        <input
          type="text"
          placeholder="Search menu..."
          class="search-input"
          [(ngModel)]="searchQuery"
          (input)="onSearchChange()"
        />
        <span class="search-icon material-icons">search</span>
      </div>
    </div>

    <!-- Navigation Sections -->
    <div class="nav-section" *ngFor="let section of filteredSections">
      <div
        class="nav-title"
        [class.expandable]="section.expandable"
        [class.expanded]="section.expanded"
        (click)="toggleSection(section)"
        (keydown.enter)="toggleSection(section)"
        (keydown.space)="toggleSection(section)"
        tabindex="0"
        role="button"
        [attr.aria-expanded]="section.expandable ? section.expanded : null"
        [attr.aria-label]="
          section.expandable
            ? 'Toggle ' + section.title + ' section'
            : section.title
        "
      >
        <span class="nav-title-text">{{ section.title }}</span>
        <span class="nav-arrow material-icons" *ngIf="section.expandable">
          expand_more
        </span>
      </div>
      <ul
        class="nav-list"
        [class.expanded]="section.expanded"
        *ngIf="!section.expandable || section.expanded"
      >
        <li class="nav-item" *ngFor="let item of section.items">
          <a
            [routerLink]="item.route"
            routerLinkActive="active"
            class="nav-link"
          >
            <span class="nav-icon material-icons">{{ item.icon }}</span>
            <span class="nav-text">{{ item.label }}</span>
          </a>
        </li>
      </ul>
    </div>
  </div>
</aside>

<!-- Mobile Sidebar Overlay -->
<div
  class="mobile-sidebar-overlay"
  [class.active]="isOpen"
  (click)="onCloseSidebar()"
  (keydown.enter)="onCloseSidebar()"
  (keydown.space)="onCloseSidebar()"
  tabindex="0"
  role="button"
  [attr.aria-label]="'Close sidebar'"
></div>
