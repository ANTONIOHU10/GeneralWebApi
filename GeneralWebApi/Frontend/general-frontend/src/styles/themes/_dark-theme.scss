// ===========================================
// Dark Theme - Dark Mode Configuration
// ===========================================

@use '../core/variable' as *;
@use '../core/mixin' as *;

// Dark Theme Variables
[data-theme='dark'] {
  // Primary Colors (adjusted for dark mode)
  --color-primary-50: #{$primary-900};
  --color-primary-100: #{$primary-800};
  --color-primary-200: #{$primary-700};
  --color-primary-300: #{$primary-600};
  --color-primary-400: #{$primary-500};
  --color-primary-500: #{$primary-400};
  --color-primary-600: #{$primary-300};
  --color-primary-700: #{$primary-200};
  --color-primary-800: #{$primary-100};
  --color-primary-900: #{$primary-50};

  // Secondary Colors (adjusted for dark mode)
  --color-secondary-50: #{$secondary-900};
  --color-secondary-100: #{$secondary-800};
  --color-secondary-200: #{$secondary-700};
  --color-secondary-300: #{$secondary-600};
  --color-secondary-400: #{$secondary-500};
  --color-secondary-500: #{$secondary-400};
  --color-secondary-600: #{$secondary-300};
  --color-secondary-700: #{$secondary-200};
  --color-secondary-800: #{$secondary-100};
  --color-secondary-900: #{$secondary-50};

  // Neutral Colors (inverted for dark mode)
  --color-white: #{$gray-900};
  --color-gray-50: #{$gray-800};
  --color-gray-100: #{$gray-700};
  --color-gray-200: #{$gray-600};
  --color-gray-300: #{$gray-500};
  --color-gray-400: #{$gray-400};
  --color-gray-500: #{$gray-300};
  --color-gray-600: #{$gray-200};
  --color-gray-700: #{$gray-100};
  --color-gray-800: #{$gray-50};
  --color-gray-900: #{$white};
  --color-black: #{$white};

  // Semantic Colors (adjusted for dark mode)
  --color-success: #{$success-400};
  --color-success-50: rgba(76, 175, 80, 0.2);
  --color-success-100: rgba(76, 175, 80, 0.3);
  --color-success-400: #{$success-400};
  --color-success-500: #{$success-500};
  --color-success-600: #{$success-600};
  --color-success-700: #{$success-700};
  --color-success-light: rgba(76, 175, 80, 0.2);
  --color-success-dark: #{$success-600};

  --color-warning: #{$warning-400};
  --color-warning-50: rgba(255, 152, 0, 0.2);
  --color-warning-100: rgba(255, 152, 0, 0.3);
  --color-warning-400: #{$warning-400};
  --color-warning-500: #{$warning-500};
  --color-warning-600: #{$warning-600};
  --color-warning-700: #{$warning-700};
  --color-warning-light: rgba(255, 152, 0, 0.2);
  --color-warning-dark: #{$warning-600};

  --color-error: #{$error-400};
  --color-error-50: rgba(244, 67, 54, 0.2);
  --color-error-100: rgba(244, 67, 54, 0.3);
  --color-error-200: rgba(244, 67, 54, 0.4);
  --color-error-400: #{$error-400};
  --color-error-500: #{$error-500};
  --color-error-600: #{$error-600};
  --color-error-700: #{$error-700};
  --color-error-light: rgba(244, 67, 54, 0.2);
  --color-error-dark: #{$error-600};

  --color-info: #{$info-400};
  --color-info-50: rgba(33, 150, 243, 0.2);
  --color-info-100: rgba(33, 150, 243, 0.3);
  --color-info-400: #{$info-400};
  --color-info-500: #{$info-500};
  --color-info-600: #{$info-600};
  --color-info-700: #{$info-700};
  --color-info-light: rgba(33, 150, 243, 0.2);
  --color-info-dark: #{$info-600};

  // Background Colors (inverted for dark mode)
  --bg-primary: #{$gray-900};
  --bg-secondary: #{$gray-800};
  --bg-tertiary: #{$gray-700};
  --bg-surface: #{$gray-800};

  // Text Colors (inverted for dark mode)
  --text-primary: #{$white};
  --text-secondary: #{$gray-300};
  --text-tertiary: #{$gray-400};
  --text-disabled: #{$gray-500};

  // Border Colors
  --border-primary: #{$gray-600};
  --border-secondary: #{$gray-500};
  --border-focus: var(--color-primary-400);
  --border-error: var(--color-error);

  // Input Colors
  --input-bg: var(--bg-surface);
  --input-border: var(--border-primary);
  --input-focus: var(--border-focus);

  // Spacing Variables (same as light theme)
  --spacing-1: #{$spacing-1};
  --spacing-2: #{$spacing-2};
  --spacing-3: #{$spacing-3};
  --spacing-4: #{$spacing-4};
  --spacing-5: #{$spacing-5};
  --spacing-6: #{$spacing-6};
  --spacing-8: #{$spacing-8};
  --spacing-10: #{$spacing-10};
  --spacing-12: #{$spacing-12};
  --spacing-16: #{$spacing-16};
  --spacing-20: #{$spacing-20};
  --spacing-24: #{$spacing-24};

  // Border Radius Variables (same as light theme)
  --border-radius-sm: #{$border-radius-sm};
  --border-radius-base: #{$border-radius-base};
  --border-radius-md: #{$border-radius-md};
  --border-radius-lg: #{$border-radius-lg};
  --border-radius-xl: #{$border-radius-xl};
  --border-radius-2xl: #{$border-radius-2xl};
  --border-radius-full: #{$border-radius-full};

  // Shadow Variables (same as light theme)
  --shadow-sm: #{$shadow-sm};
  --shadow-base: #{$shadow-base};
  --shadow-md: #{$shadow-md};
  --shadow-lg: #{$shadow-lg};
  --shadow-xl: #{$shadow-xl};
  --bg-overlay: rgba(0, 0, 0, 0.7);
}

// Dark Theme Base Styles
.dark-theme {
  background-color: var(--bg-primary);
  color: var(--text-primary);

  // Header Styles
  .app-header {
    background-color: var(--header-bg);
    border-bottom: 1px solid var(--border-primary);
    @include header-shadow;
  }

  // Sidebar Styles
  .app-sidebar {
    background-color: var(--sidebar-bg);
    border-right: 1px solid var(--border-primary);
  }

  // Footer Styles
  .app-footer {
    background-color: var(--footer-bg);
    border-top: 1px solid var(--border-primary);
  }

  // Card Styles
  .card {
    background-color: var(--card-bg);
    border: 1px solid var(--border-primary);
    box-shadow: var(--shadow-base);

    &:hover {
      box-shadow: var(--shadow-md);
    }
  }

  // Input Styles
  .form-input {
    background-color: var(--input-bg);
    border: 1px solid var(--border-primary);
    color: var(--text-primary);

    &:focus {
      border-color: var(--border-focus);
      box-shadow: 0 0 0 3px rgba(var(--color-primary-500), 0.2);
    }

    &::placeholder {
      color: var(--text-tertiary);
    }
  }

  // Button Styles
  .btn-primary {
    background-color: var(--button-bg);
    color: var(--button-text);
    border: none;

    &:hover {
      background-color: var(--color-primary-600);
    }
  }

  // Table Styles
  .table {
    background-color: var(--bg-primary);

    th {
      background-color: var(--bg-secondary);
      color: var(--text-primary);
      border-bottom: 2px solid var(--border-primary);
    }

    td {
      border-bottom: 1px solid var(--border-primary);
      color: var(--text-secondary);
    }

    tr:hover {
      background-color: var(--bg-secondary);
    }
  }

  // Modal Styles
  .modal {
    background-color: var(--bg-surface);
    border: 1px solid var(--border-primary);
    box-shadow: var(--shadow-xl);
  }

  .modal-backdrop {
    background-color: var(--bg-overlay);
  }

  // Navigation Styles
  .nav-link {
    color: var(--text-secondary);

    &:hover {
      color: var(--text-primary);
      background-color: var(--bg-secondary);
    }

    &.active {
      color: var(--color-primary-500);
      background-color: rgba(var(--color-primary-500), 0.2);
    }
  }

  // Status Indicators
  .status-success {
    color: var(--color-success);
    background-color: var(--color-success-light);
  }

  .status-warning {
    color: var(--color-warning);
    background-color: var(--color-warning-light);
  }

  .status-error {
    color: var(--color-error);
    background-color: var(--color-error-light);
  }

  .status-info {
    color: var(--color-info);
    background-color: var(--color-info-light);
  }

  // Code Elements (enhanced for dark mode)
  code {
    background-color: var(--bg-tertiary);
    color: var(--color-error);
  }

  pre {
    background-color: var(--bg-tertiary);
    color: var(--text-primary);

    code {
      background-color: transparent;
      color: inherit;
    }
  }

  // Blockquotes
  blockquote {
    background-color: var(--bg-secondary);
    border-left-color: var(--color-primary-500);
    color: var(--text-secondary);
  }

  // Mark/Highlight
  mark {
    background-color: var(--color-warning-light);
    color: var(--text-primary);
  }
}

// Dark Theme Specific Utilities
.dark-theme {
  .bg-primary {
    background-color: var(--bg-primary);
  }
  .bg-secondary {
    background-color: var(--bg-secondary);
  }
  .bg-tertiary {
    background-color: var(--bg-tertiary);
  }
  .bg-surface {
    background-color: var(--bg-surface);
  }

  .text-primary {
    color: var(--text-primary);
  }
  .text-secondary {
    color: var(--text-secondary);
  }
  .text-tertiary {
    color: var(--text-tertiary);
  }
  .text-disabled {
    color: var(--text-disabled);
  }
  .text-inverse {
    color: var(--text-inverse);
  }

  .border-primary {
    border-color: var(--border-primary);
  }
  .border-secondary {
    border-color: var(--border-secondary);
  }
  .border-focus {
    border-color: var(--border-focus);
  }
  .border-error {
    border-color: var(--border-error);
  }
}

// Dark Theme Toggle Animation
.theme-transition {
  transition:
    background-color $duration-300 $ease-in-out,
    color $duration-300 $ease-in-out,
    border-color $duration-300 $ease-in-out;
}

// Dark Theme Scrollbar Styling
.dark-theme {
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: var(--bg-secondary);
  }

  ::-webkit-scrollbar-thumb {
    background: var(--border-primary);
    border-radius: $border-radius-full;

    &:hover {
      background: var(--border-secondary);
    }
  }

  ::-webkit-scrollbar-corner {
    background: var(--bg-secondary);
  }
}
